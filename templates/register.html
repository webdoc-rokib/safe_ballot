{% extends 'base.html' %}
{% load utils %}
{% block page_icon %}
	<svg class="icon-sm" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 2a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm-7 18c0-3.31 2.69-6 6-6s6 2.69 6 6H5z" fill="currentColor"/></svg>
{% endblock %}
{% block content %}
<div class="row justify-content-center">
	<div class="col-sm-10 col-md-6 col-lg-5">
		<div class="card shadow-sm">
			<div class="card-body p-4">
				<h3 class="mb-3">Create an account</h3>

				<form method="post" novalidate>
					{% csrf_token %}

					{% if form.non_field_errors %}
						<div class="alert alert-danger">{{ form.non_field_errors }}</div>
					{% endif %}

					{% for field in form %}
						<div class="mb-3">
							<label class="form-label">{{ field.label }}</label>
							{{ field|add_attrs:'class=form-control' }}
							{% if field.help_text %}
								<div class="form-text">{{ field.help_text }}</div>
							{% endif %}
							{% if field.errors %}
								<div class="form-text text-danger">{{ field.errors|striptags }}</div>
							{% endif %}
						</div>
					{% endfor %}

					<div class="mb-3 form-check">
						{{ form.agree_policies }}
						<label class="form-check-label">I agree to the <a href="{% url 'privacy' %}">Privacy Policy</a>, <a href="{% url 'terms' %}">Terms of Use</a>, and <a href="{% url 'data_policy' %}">Data Policy</a>.</label>
						{% if form.agree_policies.errors %}
							<div class="form-text text-danger">{{ form.agree_policies.errors|striptags }}</div>
						{% endif %}
					</div>

					<div class="d-grid">
						<button type="submit" class="btn btn-success btn-lg">Register</button>
					</div>
				</form>

				<div class="mt-3 small">Already have an account? <a href="{% url 'login' %}">Sign in</a></div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
