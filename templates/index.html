{% extends "base.html" %}
{% load static %}
{% block title %}Home — SafeBallot{% endblock %}

{% block content %}
<div class="hero rounded-4 p-5 mb-5 text-white shadow-lg">
	<div class="row align-items-center">
		<div class="col-md-7">
			<h1 class="display-5 fw-bold">Secure · Anonymous · Transparent</h1>
			<p class="lead mb-4">Run student elections confidently — votes are encrypted and anonymous. Admins manage elections and results are revealed only after close.</p>

			{% if user.is_authenticated %}
				<a href="{% url 'voter_dashboard' %}" class="btn btn-light btn-lg me-2">Go to Dashboard</a>
				{% if is_admin %}
					<a href="{% url 'admin_dashboard' %}" class="btn btn-outline-light btn-lg">Admin Panel</a>
				{% endif %}
			{% else %}
				<a href="{% url 'register' %}" class="btn btn-light btn-lg me-2">Create account</a>
				<a href="{% url 'login' %}" class="btn btn-outline-light btn-lg">Sign in</a>
			{% endif %}
		</div>
		<div class="col-md-5 text-center">
			<img src="{% static 'img/hero-vote.png' %}" alt="Voting" class="img-fluid" style="max-height:200px;">
		</div>
	</div>
</div>

<div class="row mb-5">
	<div class="col-md-6">
		<div class="card h-100 shadow-sm p-3">
			<h4>About SafeBallot</h4>
			<p class="small">SafeBallot provides a privacy-first voting experience for campus organizations. Votes are AES-256 encrypted and cannot be linked to voters. Admins manage eligibility and conclude elections to reveal results.</p>
			<p class="small mb-0">Built with Django, PostgreSQL, and modern front-end tools.</p>
		</div>
	</div>

	<div class="col-md-6">
		<div class="card h-100 shadow-sm p-3">
			<h4>How it works</h4>
			<ul class="small mb-0">
				<li>Admins create elections and upload eligible voters.</li>
				<li>Voters sign in and cast one encrypted vote per election.</li>
				<li>Results are decrypted only after the election ends.</li>
			</ul>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-md-8">
		<h3>Latest elections</h3>
		<div class="row gy-3">
			{% for election in elections %}
				<div class="col-md-6">
					<div class="card h-100 p-3 shadow-sm hover-lift">
						<div class="card-body">
							<h5 class="card-title">{{ election.title }}</h5>
							<p class="card-text small text-muted">Starts: {{ election.start_time }} • Ends: {{ election.end_time }}</p>
							<a href="{% url 'vote' election.id %}" class="btn btn-primary btn-sm">View</a>
						</div>
					</div>
				</div>
			{% empty %}
				<div class="col-12">
					<div class="alert alert-info">No elections available.</div>
				</div>
			{% endfor %}
		</div>
	</div>

	<div class="col-md-4">
		<h4>Contact</h4>
		<div class="card p-3 shadow-sm small">
			<p class="mb-1"><strong>Office:</strong> 123 University Ave</p>
			<p class="mb-1"><strong>Email:</strong> <a class="link-dark" href="mailto:info@safeballot.example">info@safeballot.example</a></p>
			<p class="mb-0"><strong>Phone:</strong> +1 (555) 555-5555</p>
		</div>
	</div>
</div>
{% endblock %}
